<!doctype html>
<html lang="et">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>JÃµulukaart</title>
<style>
:root{
  --bg1:#020617;
  --bg2:#0b1220;
  --text:#e5e7eb;
  --accent:#38bdf8;
  --gold:#ffd166;
  --red:#ff4d6d;
  --green:#22c55e;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:radial-gradient(1200px 600px at 50% 20%,#0b1b3a 0%,var(--bg1) 45%,#000 100%);
  overflow:hidden;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
.stage{
  width:100vw;
  height:100vh;
  display:grid;
  place-items:center;
}
.frame{
  width:min(96vw,1920px);
  aspect-ratio:16/9;
  border-radius:22px;
  overflow:hidden;
  position:relative;
  background:linear-gradient(180deg,rgba(15,23,42,.35),rgba(2,6,23,.35));
  box-shadow:0 25px 80px rgba(0,0,0,.7);
}
svg{width:100%;height:100%;display:block}
#tree{transform-origin:50% 100%;animation:sway 6s ease-in-out infinite}
@keyframes sway{
  0%,100%{transform:rotate(-1.5deg)}
  50%{transform:rotate(1.5deg)}
}
.star{animation:pulse 2.5s ease-in-out infinite;cursor:pointer}
@keyframes pulse{
  0%,100%{filter:drop-shadow(0 0 6px gold)}
  50%{filter:drop-shadow(0 0 18px gold)}
}
.ball{animation:twinkle 3s ease-in-out infinite}
@keyframes twinkle{
  0%,100%{opacity:.7}
  50%{opacity:1}
}
.message{
  font-size:96px;
  font-weight:800;
  fill:var(--text);
  opacity:0;
  transform:translateY(40px);
  transition:all .8s ease;
}
.message.show{
  opacity:1;
  transform:translateY(0);
}
.spark{
  animation:spark 1s ease-out forwards;
}
@keyframes spark{
  from{opacity:1;transform:scale(.2)}
  to{opacity:0;transform:scale(2)}
}
#snowman{cursor:pointer}
.hint-text{font-size:28px;font-weight:700;fill:var(--gold);pointer-events:none;filter:drop-shadow(0 0 6px rgba(255,209,102,.9))}
.hint-line{stroke:var(--gold);stroke-width:4;fill:none;marker-end:url(#arrow);pointer-events:none}
.hint{animation:hint-bob 1.6s ease-in-out infinite}
@keyframes hint-bob{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
</style>
</head>
<body>
<div class="stage">
<div class="frame">
<svg viewBox="0 0 1920 1080">
<defs>
<linearGradient id="sky" x1="0" y1="0" x2="0" y2="1">
<stop offset="0%" stop-color="#0b1b3a"/>
<stop offset="100%" stop-color="#020617"/>
</linearGradient>
</linearGradient>
<marker id="arrow" markerWidth="8" markerHeight="8" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
  <path d="M0,0 L0,6 L6,3 z" fill="var(--gold)"/>
</marker>
</defs>

<rect width="1920" height="1080" fill="url(#sky)"/>

<g id="tree" transform="translate(960 900)">
<polygon points="0,-520 -260,0 260,0" fill="#14532d"/>
<polygon points="0,-380 -220,120 220,120" fill="#166534"/>
<polygon points="0,-240 -180,240 180,240" fill="#15803d"/>
<rect x="-40" y="240" width="80" height="120" fill="#7c2d12"/>
<polygon class="star" points="0,-620 20,-580 70,-570 30,-540 40,-490 0,-515 -40,-490 -30,-540 -70,-570 -20,-580" fill="var(--gold)"/>
<circle class="ball" cx="-90" cy="-200" r="14" fill="var(--red)"/>
<circle class="ball" cx="120" cy="-140" r="12" fill="var(--accent)"/>
<circle class="ball" cx="-40" cy="-60" r="10" fill="var(--gold)"/>
<circle class="ball" cx="70" cy="40" r="12" fill="var(--green)"/>
</g>

<g id="snowman" transform="translate(1250 820)">
<circle cx="0" cy="60" r="70" fill="#f8fafc"/>
<circle cx="0" cy="-40" r="55" fill="#f8fafc"/>
<circle cx="0" cy="-130" r="40" fill="#f8fafc"/>
<circle cx="-12" cy="-140" r="5" fill="#020617"/>
<circle cx="12" cy="-140" r="5" fill="#020617"/>
<polygon points="0,-130 36,-122 0,-114" fill="#fb923c"/>
<circle cx="0" cy="-40" r="6" fill="#020617"/>
<circle cx="0" cy="-10" r="6" fill="#020617"/>
<circle cx="0" cy="20" r="6" fill="#020617"/>
<line x1="-90" y1="-40" x2="-160" y2="-80" stroke="#7c2d12" stroke-width="8" stroke-linecap="round"/>
<line x1="90" y1="-40" x2="160" y2="-80" stroke="#7c2d12" stroke-width="8" stroke-linecap="round"/>
</g>

<text id="message" class="message" x="960" y="320" text-anchor="middle">HÃ¤id jÃµuleðŸŽ„</text>

<!-- Hint pointing to the snowman -->
<g id="snowman-hint" class="hint" transform="translate(0,0)" aria-hidden="true">
  <line class="hint-line" x1="1520" y1="660" x2="1350" y2="650" />
  <text class="hint-text" x="1480" y="640" text-anchor="end">Click me</text>
</g>

<g id="snow"></g>

</svg>

<audio id="jingle" src="christmas-sleigh-bells-jingling-451852.mp3" preload="auto"></audio>

</div>
</div>

<script>
const snowGroup=document.getElementById("snow")
const message=document.getElementById("message")
const snowman=document.getElementById("snowman")
const star=document.querySelector(".star")
const frame=document.querySelector(".frame")
const sound=document.getElementById("jingle")
sound.volume=0.25

function playSound(){
  sound.currentTime=0
  sound.play()
}

function createSnow(){
  const c=document.createElementNS("http://www.w3.org/2000/svg","circle")
  const x=Math.random()*1920
  const r=Math.random()*2+1
  c.setAttribute("cx",x)
  c.setAttribute("cy",-10)
  c.setAttribute("r",r)
  c.setAttribute("fill","white")
  snowGroup.appendChild(c)
  const speed=Math.random()*1.5+.5
  let y=-10
  function fall(){
    y+=speed
    c.setAttribute("cy",y)
    if(y<1100){
      requestAnimationFrame(fall)
    }else{
      c.remove()
    }
  }
  fall()
}
setInterval(createSnow,120)

snowman.addEventListener("click",()=>{
  playSound()
  message.classList.add("show")
  for(let i=0;i<14;i++){
    const s=document.createElementNS("http://www.w3.org/2000/svg","circle")
    s.setAttribute("cx",1250)
    s.setAttribute("cy",820)
    s.setAttribute("r",6)
    s.setAttribute("fill","gold")
    s.classList.add("spark")
    const dx=(Math.random()-0.5)*240
    const dy=(Math.random()-0.5)*240
    s.animate([
      {transform:"translate(0,0)",opacity:1},
      {transform:`translate(${dx}px,${dy}px)`,opacity:0}
    ],{duration:900,easing:"ease-out"})
    snowGroup.appendChild(s)
    setTimeout(()=>s.remove(),900)
  }
})

star.addEventListener("click",()=>{
  playSound()
  star.style.filter="drop-shadow(0 0 40px gold)"
  setTimeout(()=>star.style.filter="",800)
})

window.addEventListener("mousemove",e=>{
  const x=(e.clientX/window.innerWidth-.5)*12
  const y=(e.clientY/window.innerHeight-.5)*12
  frame.style.transform=`translate(${x}px,${y}px)`
})

window.addEventListener("keydown",e=>{
  if(e.key.toLowerCase()==="r"){
    message.classList.remove("show")
  }
})
</script>
</body>
</html>
